<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>WebSocket with Redis</title>
		<script src="/socket.io/socket.io.js"></script>
		<script>
			document.addEventListener("DOMContentLoaded", () => {
				const socket = io();

				socket.on("message", (message) => {
					const el = document.createElement("li");
					el.textContent = message;
					document.querySelector("ul").appendChild(el);
				});

				document.querySelector("button").onclick = () => {
					const text = document.querySelector("input").value;
					socket.emit("message", text);
					document.querySelector("input").value = "";
				};
			});
		</script>
	</head>
	<body>
		<ul></ul>
		<input type="text" placeholder="Enter message" />
		<button>Send</button>
	</body>
</html>
